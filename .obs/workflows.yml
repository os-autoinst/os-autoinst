#rebuild:
#  steps:
#  - rebuild_package:
#      project: home:tinita:githubtest
#      package: obstest
#  filters:
#    event: push
#    branches:
#      only: [main]

pr:
  steps:
  - configure_repositories:
      project: home:tinita:branches:devel:openQA:GitHub
      repositories:
      - name: openSUSE_Factory
        target_project: devel:openQA
        target_repository: openSUSE_Factory
        architectures: [ x86_64 ]
      - name: openSUSE_15.2
        target_project: devel:openQA
        target_repository: openSUSE_Leap_15.2
        architectures: [ x86_64 ]
      - name: openSUSE_15.3
        target_project: devel:openQA
        target_repository: openSUSE_Leap_15.3
        architectures: [ x86_64 ]

  - branch_package:
      source_project: devel:openQA
      source_package: os-autoinst
      target_project: home:tinita:branches:devel:openQA:GitHub
  filters:
    event: pull_request
#    branches:
#      only: [ master ]
#    architectures:
#      only: x86_64
#    repositories:
#      only:
#      - openSUSE_Factory
#      - openSUSE_15.2
#      - openSUSE_15.3
